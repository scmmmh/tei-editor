{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/AriaMenubar.vue?7305","webpack:///./src/App.vue?9861","webpack:///./src/components/TeiEditor.vue?3e75","webpack:///./src/components/AriaMenubar.vue","webpack:///./src/components/AriaMenubar.vue?8172","webpack:///./src/components/AriaMenubar.vue?133a","webpack:///./src/components/AriaMenu.vue","webpack:///./src/components/AriaMenu.vue?9d09","webpack:///./src/components/AriaMenu.vue?0c95","webpack:///./src/components/MetadataEditor.vue?2f67","webpack:///./src/components/MetadataField.vue?d5ac","webpack:///./src/util/get.ts","webpack:///./src/components/MetadataField.vue","webpack:///./src/components/MetadataField.vue?1d8a","webpack:///./src/components/MetadataField.vue?8461","webpack:///./src/components/MetadataEditor.vue","webpack:///./src/components/MetadataEditor.vue?9aaf","webpack:///./src/components/MetadataEditor.vue?4d47","webpack:///./src/components/TextEditor.vue?cbce","webpack:///./src/util/deepclone.ts","webpack:///./src/util/prosemirror.ts","webpack:///./src/components/TextEditor.vue","webpack:///./src/components/TextEditor.vue?c156","webpack:///./src/components/TextEditor.vue?0156","webpack:///./src/util/XPathEvaluator.ts","webpack:///./src/util/TEIMetadataParser.ts","webpack:///./src/util/TEITextParser.ts","webpack:///./src/util/TEISerialiser.ts","webpack:///./src/components/TeiEditor.vue","webpack:///./src/components/TeiEditor.vue?35b0","webpack:///./src/components/TeiEditor.vue?91c6","webpack:///./src/App.vue","webpack:///./src/App.vue?0ab4","webpack:///./src/App.vue?bff9","webpack:///./src/main.ts","webpack:///./src/components/TeiEditor.vue?7c95"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","_vm","this","_h","$createElement","_c","_self","attrs","config","autoLoad","load","on","save","_e","staticRenderFns","scopedSlots","_u","fn","ref","keyboardNav","mouseClickNav","$event","_v","_l","section","idx","currentSection","setCurrentSection","_s","label","index","type","metadata","textData","nested","model","callback","$$v","$set","expression","$scopedSlots","default","keyboardNavigation","mouseClickNavigation","ev","target","keyCode","next","findNextMenuitem","getParentMenubar","focus","parentElement","children","element","getAttribute","setAttribute","click","root","start","direction","stack","current","pop","injectStyles","context","locals","component","getParentMenu","parentMenu","getParentMenuOrMenubar","staticClass","entry","idx2","directives","rawName","domProps","composing","localValue","modifyMenuItems","menuAction","obj","path","pathElements","split","Number","parseInt","substring","addMenuItems","action","disabled","entries","forEach","tmp","indexOf","set","join","components","AriaMenubar","MetadataField","block","class","active","menuitem","idx3","tabindex","ariaLabel","checked","$emit","nestedDocs","nestedSettings","closeNestedEditor","id","content","deepclone","undefined","Array","isArray","map","val","clone","keys","generateSchemaNodes","schema","nodes","doc","group","parseDOM","tag","node","getAttrs","dom","toDOM","attributes","text","inline","generateSchemaMarks","marks","mark","getMarkRange","$pos","parent","childAfter","parentOffset","link","find","startIndex","startPos","offset","endIndex","endPos","nodeSize","isInSet","child","childCount","from","to","updateMark","state","dispatch","tr","selection","$from","empty","range","hasMark","rangeHasMark","removeMark","addMark","updateInlineNode","replaceRangeWith","pos","wrapNode","wrappingType","contentType","$to","blockRange","setBlockType","wrap","unwrapNode","lift","isWrappedNode","editorSchema","editor","showNested","stateDebounce","internalUpdate","$el","querySelector","nodeFromJSON","plugins","editorPlugins","dispatchTransaction","transaction","newState","stateChanged","updateState","destroy","clearTimeout","setTimeout","nodesBetween","toJSON","steps","menuItem","event","nodeType","isInline","nodeCallback","isBlock","walkFragment","textContent","fragment","replaceSelection","openStart","openEnd","isText","isWrappingType","contentNodeType","attr","targetNodeType","nestedId","docList","replaceChild","typeName","ui","blockSchema","condition","activeType","entities","entitySchema","elementSchema","entity","markType","values","nestedDocIds","nestedIds","nestedKey","docObj","docKey","nsResolver","prefix","xpath","result_type","evaluate","XPathResult","FIRST_ORDERED_NODE_TYPE","singleNodeValue","ORDERED_NODE_ITERATOR_TYPE","STRING_TYPE","stringValue","BOOLEAN_TYPE","booleanValue","NUMBER_TYPE","numberValue","header","firstNode","documentElement","temp","parseHeaderNode","elements","nodeIterator","iterateNext","_attrs","_text","multiple","parser","selector","parseContentNode","nestedDoc","addNestedDoc","parsers","e","console","log","parseContentAttributes","nodeSchema","concat","parseContentMarks","nestedParent","sections","mergeTrees","serialiseHeader","serialiseSingleText","lines","toString","base","merge","found","objectsMatch","a","b","keysA","keysB","rootPath","serialiser","item","serialiseTextNode","ids","Set","filter","part","replace","markObjs","markSchema","markObj","size","sort","tmpObj","subChild","reference","serialiseMetadataNode","items","indentation","xmlSafe","txt","buffer","autoLoadCallback","loadData","serialise","loadCallback","domParser","DOMParser","parseFromString","AriaMenu","TextEditor","MetadataEditor","configElement","document","getElementById","JSON","parse","innerHTML","docElement","fileSelector","createElement","body","appendChild","addEventListener","files","reader","FileReader","onload","readAsText","remove","blob","Blob","URL","createObjectURL","removeChild","TeiEditor","productionTip","render","h","$mount"],"mappings":"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","file":"js/app.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaMenubar.vue?vue&type=style&index=0&module=true&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-0-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-0-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-0-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-0-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaMenubar.vue?vue&type=style&index=0&module=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[(_vm.config)?_c('tei-editor',{attrs:{\"config\":_vm.config,\"autoLoadCallback\":_vm.autoLoad,\"loadCallback\":_vm.load},on:{\"save\":_vm.save}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"tei-editor\"}},[_c('nav',[_c('aria-menubar',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar keyboardNav = ref.keyboardNav;\nvar mouseClickNav = ref.mouseClickNav;\nreturn [_c('ul',{attrs:{\"role\":\"menubar\"}},[(_vm.loadCallback)?_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"-1\"},on:{\"click\":function($event){mouseClickNav($event); _vm.load()},\"keyup\":keyboardNav}},[_vm._v(\"Load\")])]):_vm._e(),_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"-1\"},on:{\"click\":function($event){mouseClickNav($event); _vm.save()},\"keyup\":keyboardNav}},[_vm._v(\"Save\")])]),_vm._l((_vm.config.sections),function(section,key,idx){return _c('li',{key:idx,attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"-1\",\"aria-checked\":(key === _vm.currentSection) ? 'true' : 'false'},on:{\"click\":function($event){mouseClickNav($event); _vm.setCurrentSection(key)},\"keyup\":keyboardNav}},[_vm._v(_vm._s(section.label))])])})],2)]}}])})],1),_c('div',[_vm._l((_vm.config.sections),function(section,key,index){return [(key === _vm.currentSection)?[(section.type === 'MetadataEditor')?_c('metadata-editor',{key:index,attrs:{\"config\":section,\"value\":_vm.metadata}}):_vm._e(),(section.type === 'TextEditor')?_c('text-editor',{key:index,attrs:{\"config\":section,\"nestedDocs\":_vm.textData[key].nested},model:{value:(_vm.textData[key].doc),callback:function ($$v) {_vm.$set(_vm.textData[key], \"doc\", $$v)},expression:\"textData[key].doc\"}}):_vm._e()]:_vm._e()]})],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\nimport { Component, Vue } from 'vue-property-decorator';\n\n\n@Component({\n})\nexport default class AriaMenubar extends Vue {\n    public render() {\n        if (this.$scopedSlots.default) {\n            return this.$scopedSlots.default({\n                keyboardNav: this.keyboardNavigation,\n                mouseClickNav: this.mouseClickNavigation,\n            });\n        }\n    }\n\n    public keyboardNavigation(ev: KeyboardEvent) {\n        let target = ev.target as HTMLElement;\n        if (target) {\n            if (ev.keyCode === 39) {\n                let next = this.findNextMenuitem(this.getParentMenubar(target), target, 'next');\n                if (next) {\n                    next.focus();\n                }\n            } else if (ev.keyCode === 37) {\n                let next = this.findNextMenuitem(this.getParentMenubar(target), target, 'previous');\n                if (next) {\n                    next.focus();\n                }\n            } else if (ev.keyCode === 38 || ev.keyCode === 40) {\n                // @ts-ignore\n                for (const element of target.parentElement.children) {\n                    if (element.getAttribute('role') === 'menu') {\n                        element.setAttribute('aria-hidden', 'false');\n                        target.setAttribute('aria-expanded', 'true');\n                        let next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                        if (next) {\n                            next.focus();\n                        }\n                    }\n                }\n            } else if (ev.keyCode === 13 || ev.keyCode == 32) {\n                // @ts-ignore\n                for (const element of target.parentElement.children) {\n                    if (element.getAttribute('role') === 'menu') {\n                        if (element.getAttribute('aria-hidden') === 'false') {\n                            element.setAttribute('aria-hidden', 'true');\n                            target.setAttribute('aria-expanded', 'false');\n                        } else {\n                            element.setAttribute('aria-hidden', 'false');\n                            target.setAttribute('aria-expanded', 'true');\n                            let next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                            if (next) {\n                                next.focus();\n                                return;\n                            }\n                        }\n                    }\n                }\n                target.click();\n            }\n        }\n    }\n\n    public mouseClickNavigation(ev: MouseEvent) {\n        let target = ev.target as HTMLElement;\n        if (target) {\n            // @ts-ignore\n            for (const element of target.parentElement.children) {\n                if (element.getAttribute('role') === 'menu') {\n                    if (element.getAttribute('aria-hidden') === 'false') {\n                        element.setAttribute('aria-hidden', 'true');\n                        target.setAttribute('aria-expanded', 'false');\n                    } else {\n                        element.setAttribute('aria-hidden', 'false');\n                        target.setAttribute('aria-expanded', 'true');\n                        let next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                        if (next) {\n                            next.focus();\n                            return;\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected getParentMenubar(element: HTMLElement): HTMLElement | null {\n        if (!element) {\n            return null;\n        } else if (element.getAttribute('role') === 'menubar') {\n            return element;\n        } else {\n            return this.getParentMenubar(element.parentElement as HTMLElement);\n        }\n    }\n\n    protected findNextMenuitem(root: HTMLElement | null, start: HTMLElement | null, direction: string) {\n        if (!root) {\n            return null;\n        }\n        let stack = [] as HTMLElement[];\n        if (direction === 'next') {\n            for (let idx = root.children.length - 1; idx >= 0; idx--) {\n                stack.push(root.children[idx] as HTMLElement);\n            }\n        } else {\n            for (let idx = 0; idx < root.children.length; idx++) {\n                stack.push(root.children[idx] as HTMLElement);\n            }\n        }\n        let mode = 0;\n        if (!start) {\n            mode = 1;\n        }\n        while (stack.length > 0) {\n            let current = stack.pop() as HTMLElement;\n            if (mode === 0 && current === start) {\n                mode = 1;\n            } else if (mode === 1 && current.getAttribute('role') === 'menuitem' && current.getAttribute('aria-disabled') !== 'true') {\n                return current;\n            }\n            if (current.getAttribute('role') !== 'menu') {\n                if (direction === 'next') {\n                    for (let idx = current.children.length - 1; idx >= 0; idx--) {\n                        stack.push(current.children[idx] as HTMLElement);\n                    }\n                } else {\n                    for (let idx = 0; idx < current.children.length; idx++) {\n                        stack.push(current.children[idx] as HTMLElement);\n                    }\n                }\n            }\n        }\n        return null;\n    }\n}\n","var render, staticRenderFns\nimport script from \"./AriaMenubar.vue?vue&type=script&lang=ts&\"\nexport * from \"./AriaMenubar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AriaMenubar.vue?vue&type=style&index=0&module=true&lang=scss&\"\n\n\n\n\nfunction injectStyles (context) {\n  \n  this[\"$style\"] = (style0.locals || style0)\n\n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaMenubar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaMenubar.vue?vue&type=script&lang=ts&\"","\nimport { Component } from 'vue-property-decorator';\nimport AriaMenubar from './AriaMenubar.vue';\n\n@Component({\n})\nexport default class AriaMenu extends AriaMenubar {\n    public render() {\n        if (this.$scopedSlots.default) {\n            return this.$scopedSlots.default({\n                keyboardNav: this.keyboardNavigation,\n                mouseClickNav: this.mouseClickNavigation,\n            });\n        }\n    }\n\n    public keyboardNavigation(ev: KeyboardEvent) {\n        let target = ev.target as HTMLElement;\n        if (target) {\n            if (ev.keyCode === 39) {\n            } else if (ev.keyCode === 37) {\n            } else if (ev.keyCode === 38) {\n                let next = this.findNextMenuitem(this.getParentMenu(target), target, 'previous');\n                if (next) {\n                    next.focus();\n                }\n            } else if (ev.keyCode === 40) {\n                let next = this.findNextMenuitem(this.getParentMenu(target), target, 'next');\n                if (next) {\n                    next.focus();\n                }\n            } else if (ev.keyCode === 13 || ev.keyCode == 32) {\n                if (target.getAttribute('aria-expanded')) {\n                    // @ts-ignore\n                    for (const element of target.parentElement.children) {\n                        if (element.getAttribute('role') === 'menu') {\n                            if (element.getAttribute('aria-hidden') === 'false') {\n                                element.setAttribute('aria-hidden', 'true');\n                                target.setAttribute('aria-expanded', 'false');\n                            } else {\n                                element.setAttribute('aria-hidden', 'false');\n                                target.setAttribute('aria-expanded', 'true');\n                                let next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                                if (next) {\n                                    next.focus();\n                                }\n                            }\n                        }\n                    }\n                } else {\n                    target.click();\n                }\n            } else if (ev.keyCode === 27) {\n                let parentMenu = this.getParentMenu(target);\n                if (parentMenu) {\n                    parentMenu.setAttribute('aria-hidden', 'true');\n                    // @ts-ignore\n                    for (const element of parentMenu.parentElement.children) {\n                        if (element.getAttribute('role') === 'menuitem') {\n                            element.setAttribute('aria-expanded', 'false');\n                            (element as HTMLElement).focus();\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    public mouseClickNavigation(ev: MouseEvent) {\n        let target = ev.target as HTMLElement;\n        if (target) {\n            if (target.getAttribute('aria-expanded')) {\n                // @ts-ignore\n                for (const element of target.parentElement.children) {\n                    if (element.getAttribute('role') === 'menu') {\n                        if (element.getAttribute('aria-hidden') === 'false') {\n                            element.setAttribute('aria-hidden', 'true');\n                            target.setAttribute('aria-expanded', 'false');\n                        } else {\n                            element.setAttribute('aria-hidden', 'false');\n                            target.setAttribute('aria-expanded', 'true');\n                            let next = this.findNextMenuitem(element as HTMLElement, null, 'next');\n                            if (next) {\n                                next.focus();\n                            }\n                        }\n                    }\n                }\n            } else {\n                let parentMenu = this.getParentMenu(target);\n                if (parentMenu) {\n                    parentMenu.setAttribute('aria-hidden', 'true');\n                    // @ts-ignore\n                    for (const element of parentMenu.parentElement.children) {\n                        if (element.getAttribute('role') === 'menuitem') {\n                            element.setAttribute('aria-expanded', 'false');\n                            (element as HTMLElement).focus();\n                        }\n                    }\n                }\n            }\n        }\n    }\n\n    protected getParentMenu(element: HTMLElement): HTMLElement | null {\n        if (!element) {\n            return null;\n        } else if (element.getAttribute('role') === 'menu') {\n            return element;\n        } else {\n            return this.getParentMenu(element.parentElement as HTMLElement);\n        }\n    }\n\n    protected getParentMenuOrMenubar(element: HTMLElement): HTMLElement | null {\n        if (!element) {\n            return null;\n        } else if (element.getAttribute('role') === 'menu' || element.getAttribute('role') === 'menubar') {\n            return element;\n        } else {\n            return this.getParentMenuOrMenubar(element.parentElement as HTMLElement);\n        }\n    }\n}\n","var render, staticRenderFns\nimport script from \"./AriaMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./AriaMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AriaMenu.vue?vue&type=script&lang=ts&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"metadata-editor\"},_vm._l((_vm.config.ui),function(section,idx){return _c('section',{key:idx},[_c('h2',[_vm._v(_vm._s(section.label))]),_vm._l((section.entries),function(entry,idx2){return _c('div',{key:idx2},[_c('metadata-field',{attrs:{\"config\":entry,\"value\":_vm.value}})],1)})],2)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.config.type == 'single-text')?[_c('label',[_c('span',{staticClass:\"label-text\"},[_vm._v(_vm._s(_vm.config.label))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.localValue),expression:\"localValue\"}],attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.localValue)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.localValue=$event.target.value}}})])]:(_vm.config.type == 'multi-row')?[_c('ol',{staticClass:\"multi-row\"},_vm._l((_vm.localValue),function(data,idx){return _c('li',{key:idx},[_vm._l((_vm.config.entries),function(entry,idx2){return _c('metadata-field',{key:idx2,attrs:{\"config\":entry,\"value\":data}})}),_c('aria-menubar',{attrs:{\"items\":_vm.modifyMenuItems(idx)},on:{\"action\":_vm.menuAction}}),_c('aria-menubar',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar keyboardNav = ref.keyboardNav;\nreturn [_c('ul',{attrs:{\"role\":\"menubar\"}},[_c('li',{attrs:{\"role\":\"presentation\"}},[(idx === 0)?_c('a',{attrs:{\"role\":\"menuitem\",\"aria-disabled\":true}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\",\"aria-label\":\"Move up\"}},[_c('path',{attrs:{\"d\":\"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M16.59,15.71L12,11.12L7.41,15.71L6,14.29L12,8.29L18,14.29L16.59,15.71Z\"}})])]):_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":_vm.value.length === 1 ? null : 0},on:{\"click\":function($event){return _vm.menuAction('move-up:' + idx)},\"keyup\":keyboardNav}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\",\"aria-label\":\"Move up\"}},[_c('path',{attrs:{\"d\":\"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M16.59,15.71L12,11.12L7.41,15.71L6,14.29L12,8.29L18,14.29L16.59,15.71Z\"}})])])]),_c('li',{attrs:{\"role\":\"presentation\"}},[(idx === _vm.localValue.length - 1)?_c('a',{attrs:{\"role\":\"menuitem\",\"aria-disabled\":true}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\",\"aria-label\":\"Move down\"}},[_c('path',{attrs:{\"d\":\"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M12,15.71L6,9.71L7.41,8.29L12,12.88L16.59,8.29L18,9.71L12,15.71Z\"}})])]):_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":_vm.value.length === 1 ? null : 0},on:{\"click\":function($event){return _vm.menuAction('move-down:' + idx)},\"keyup\":keyboardNav}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\",\"aria-label\":\"Move down\"}},[_c('path',{attrs:{\"d\":\"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M12,15.71L6,9.71L7.41,8.29L12,12.88L16.59,8.29L18,9.71L12,15.71Z\"}})])])]),_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":_vm.value.length === 1 ? 0 : -1},on:{\"click\":function($event){return _vm.menuAction('delete:' + idx)},\"keyup\":keyboardNav}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\",\"aria-label\":\"Delete\"}},[_c('path',{attrs:{\"d\":\"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\"}})])])])])]}}],null,true)})],2)}),0),_c('aria-menubar',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar keyboardNav = ref.keyboardNav;\nreturn [_c('ul',{attrs:{\"role\":\"menubar\"}},[_c('li',{attrs:{\"role\":\"presentation\"}},[_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":\"0\"},on:{\"click\":function($event){return _vm.menuAction('add')},\"keyup\":keyboardNav}},[_c('svg',{attrs:{\"viewBox\":\"0 0 24 24\",\"aria-label\":\"Add\"}},[_c('path',{attrs:{\"d\":\"M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\"}})])])])])]}}])})]:_vm._e(),(_vm.config.type == 'multi-field')?[_c('ol',{staticClass:\"multi-field\"},_vm._l((_vm.config.entries),function(entry,idx){return _c('li',{key:idx},[_c('metadata-field',{attrs:{\"config\":entry,\"value\":_vm.value}})],1)}),0)]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default function get(obj: any, path: string) {\n    let pathElements = path.split('.');\n    while (obj && pathElements.length > 0) {\n        if (pathElements[0][0] === '[' && pathElements[0][pathElements[0].length - 1] === ']') {\n            let idx = Number.parseInt(pathElements[0].substring(1, pathElements[0].length - 1));\n            if (idx >= 0 && idx < obj.length) {\n                obj = obj[idx];\n            }\n        } else {\n            obj = obj[pathElements[0]];\n        }\n        pathElements = pathElements.slice(1);\n    }\n    return obj;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\nimport AriaMenubar from './AriaMenubar.vue';\n\nimport { MetadataSectionUIElement, MetadataBlock } from '@/interfaces';\nimport get from '@/util/get';\n\n\n/**\n * The MetadataField component implements the individual metadata editing UI elements. It implements the\n * v-model VueJS pattern. Three types of MetadataField are supported: single-text, multi-row, and multi-field.\n */\n@Component({\n    components: {\n        AriaMenubar,\n    },\n    name: 'metadata-field',\n})\nexport default class MetadataField extends Vue {\n    @Prop() public config!: MetadataSectionUIElement;\n    @Prop() public value!: MetadataBlock;\n    public addMenuItems = [\n        {\n            label: '<svg viewBox=\"0 0 24 24\" aria-label=\"Add\"><path d=\"M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\" /></svg>',\n            action: 'add',\n        },\n    ];\n\n    // ===================\n    // Computed properties\n    // ===================\n\n    /**\n     * Gets the actual value for this MetadataField. This is needed as the value contains a tree structure and the configuration\n     * specifies the specific value for this MetadataField in that tree.\n     */\n    public get localValue(): string | {[x: string]: string} | MetadataBlock | MetadataBlock[] {\n        return get(this.value, this.config.path);\n    }\n\n    /**\n     * Sets the value for this MetadataField.\n     */\n    public set localValue(value: string | {[x: string]: string} | MetadataBlock | MetadataBlock[]) {\n        const pathElements = this.config.path.split('.');\n        if (pathElements.length === 1) {\n            Vue.set(this.value, pathElements[0], value);\n        } else {\n            Vue.set(get(this.value, pathElements.slice(0, pathElements.length - 1).join('.')), pathElements[pathElements.length - 1], value);\n        }\n    }\n\n    /**\n     * Returns the menu items for manipulating rows in a multi-row MetadataField.\n     */\n    public modifyMenuItems(idx: number) {\n        return [\n            {\n                label: '<svg viewBox=\"0 0 24 24\" aria-label=\"Move up\"><path d=\"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M16.59,15.71L12,11.12L7.41,15.71L6,14.29L12,8.29L18,14.29L16.59,15.71Z\" /></svg>',\n                action: 'move-up:' + idx,\n                disabled: idx === 0,\n            },\n            {\n                label: '<svg viewBox=\"0 0 24 24\" aria-label=\"Move down\"><path d=\"M19,3H5A2,2 0 0,0 3,5V19C3,20.11 3.9,21 5,21H19C20.11,21 21,20.11 21,19V5A2,2 0 0,0 19,3M12,15.71L6,9.71L7.41,8.29L12,12.88L16.59,8.29L18,9.71L12,15.71Z\" /></svg>',\n                action: 'move-down:' + idx,\n                disabled: idx === (this.localValue as MetadataBlock[]).length - 1,\n            },\n            {\n                label: '<svg viewBox=\"0 0 24 24\" aria-label=\"Delete\"><path d=\"M17,13H7V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z\" /></svg>',\n                action: 'delete:' + idx,\n            },\n        ];\n    }\n\n    /**\n     * Handle the menu actions for a multi-row MetadataField.\n     */\n    public menuAction(name: string) {\n        if (name === 'add') {\n            // Construct the empty data structure for the new value to add\n            let value = {} as any;\n            if (this.config.entries) {\n                this.config.entries.forEach((entry: any) => {\n                    let path = entry.path;\n                    if (entry.type === 'single-text') {\n                        value[path] = '';\n                    } else if (entry.type === 'multi-row') {\n                        value[path] = [];\n                    } else if (entry.type === 'multi-field') {\n                        entry.entries.forEach((entry: any) => {\n                            let path = entry.path;\n                            if (entry.type === 'single-text') {\n                                const pathElements = path.split('.')\n                                let tmp = value;\n                                for (let idx = 0; idx < pathElements.length; idx++) {\n                                    if (idx < pathElements.length - 1) {\n                                        tmp[pathElements[idx]] = {};\n                                        tmp = tmp[pathElements[idx]];\n                                    } else {\n                                        tmp[pathElements[idx]] = '';\n                                    }\n                                }\n                            } else if (entry.type === 'multi-row') {\n                                value[path] = [];\n                            }\n                        });\n                    }\n                });\n            }\n            (this.localValue as MetadataBlock[]).push(value);\n        } else if (name.indexOf('move-up:') === 0) {\n            const idx = Number.parseInt(name.substring(8));\n            const tmp = (this.localValue as MetadataBlock[]).splice(idx, 1);\n            (this.localValue as MetadataBlock[]).splice(idx - 1, 0, tmp[0]);\n        } else if (name.indexOf('move-down:') === 0) {\n            const idx = Number.parseInt(name.substring(10));\n            const tmp = (this.localValue as MetadataBlock[]).splice(idx + 1, 1);\n            (this.localValue as MetadataBlock[]).splice(idx, 0, tmp[0]);\n        } else if (name.indexOf('delete:') === 0) {\n            (this.localValue as MetadataBlock[]).splice(Number.parseInt(name.substring(7)), 1);\n        }\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataField.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataField.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MetadataField.vue?vue&type=template&id=f9f21abc&\"\nimport script from \"./MetadataField.vue?vue&type=script&lang=ts&\"\nexport * from \"./MetadataField.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Vue } from 'vue-property-decorator';\n\nimport MetadataField from './MetadataField.vue';\n\nimport { MetadataSection } from '@/interfaces';\n\n/**\n * The MetadataEditor provides the metadata editing interface. Most of the functionality is delegated to\n * the MetadataField component.\n */\n@Component({\n    components: {\n        MetadataField,\n    },\n})\nexport default class MetadataEditor extends Vue {\n    @Prop() public config!: MetadataSection;\n    @Prop() public value!: any;\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MetadataEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./MetadataEditor.vue?vue&type=template&id=fc929e3a&\"\nimport script from \"./MetadataEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./MetadataEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"text-editor\"},[_c('div',{staticClass:\"editor\"}),_c('aria-menubar',{scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar keyboardNav = ref.keyboardNav;\nreturn [_c('div',{staticClass:\"sidebar\"},_vm._l((_vm.sidebar),function(block,idx){return _c('div',{key:idx,class:{'is-active': block.active}},[_c('h2',[_vm._v(_vm._s(block.label))]),_vm._l((block.entities),function(section,idx2){return [(section.type === 'list')?_c('ul',{key:idx2},_vm._l((section.entities),function(menuitem,idx3){return _c('li',{key:idx3,attrs:{\"role\":\"presentation\"}},[_c('label',[_c('span',{domProps:{\"innerHTML\":_vm._s(menuitem.label)}}),(menuitem.type === 'setNodeAttrString')?_c('input',{domProps:{\"value\":menuitem.value},on:{\"change\":function($event){return _vm.menuAction(menuitem, $event)}}}):_vm._e()])])}),0):(section.type === 'menubar')?_c('ul',{key:idx2,attrs:{\"role\":\"menubar\"}},_vm._l((section.entities),function(menuitem,idx3){return _c('li',{key:idx3,class:menuitem.type === 'separator' ? 'separator' : null,attrs:{\"role\":\"presentation\"}},[(menuitem.type === 'setNodeType')?_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":menuitem.tabindex,\"aria-label\":menuitem.ariaLabel,\"title\":menuitem.ariaLabel,\"aria-checked\":menuitem.checked},domProps:{\"innerHTML\":_vm._s(menuitem.label)},on:{\"keyup\":keyboardNav,\"click\":function($event){return _vm.menuAction(menuitem)}}}):(menuitem.type === 'setNodeAttrValue')?_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":menuitem.tabindex,\"aria-label\":menuitem.ariaLabel,\"title\":menuitem.ariaLabel,\"aria-checked\":menuitem.checked},domProps:{\"innerHTML\":_vm._s(menuitem.label)},on:{\"keyup\":keyboardNav,\"click\":function($event){return _vm.menuAction(menuitem)}}}):(menuitem.type === 'selectNodeAttr')?_c('select',{attrs:{\"role\":\"menuitem\",\"tabindex\":menuitem.tabindex},on:{\"keyup\":keyboardNav,\"change\":function($event){return _vm.menuAction(menuitem, $event)}}},_vm._l((menuitem.values),function(value){return _c('option',{key:value.value,domProps:{\"value\":value.value,\"selected\":value.checked,\"innerHTML\":_vm._s(value.label)}})}),0):(menuitem.type === 'toggleMark')?_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":menuitem.tabindex,\"aria-label\":menuitem.ariaLabel,\"title\":menuitem.ariaLabel,\"aria-checked\":menuitem.checked},domProps:{\"innerHTML\":_vm._s(menuitem.label)},on:{\"keyup\":keyboardNav,\"click\":function($event){return _vm.menuAction(menuitem)}}}):(menuitem.type === 'selectMarkAttr')?_c('select',{attrs:{\"role\":\"menuitem\",\"tabindex\":menuitem.tabindex},on:{\"keyup\":keyboardNav,\"change\":function($event){return _vm.menuAction(menuitem, $event)}}},_vm._l((menuitem.values),function(value){return _c('option',{key:value.value,domProps:{\"value\":value.value,\"selected\":value.checked,\"innerHTML\":_vm._s(value.label)}})}),0):(menuitem.type === 'editNestedDoc')?_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":menuitem.tabindex,\"aria-label\":menuitem.ariaLabel,\"title\":menuitem.ariaLabel},domProps:{\"innerHTML\":_vm._s(menuitem.label)},on:{\"keyup\":keyboardNav,\"click\":function($event){return _vm.menuAction(menuitem)}}}):(menuitem.type === 'closeNested')?_c('a',{attrs:{\"role\":\"menuitem\",\"tabindex\":menuitem.tabindex,\"aria-label\":menuitem.ariaLabel,\"title\":menuitem.ariaLabel},domProps:{\"innerHTML\":_vm._s(menuitem.label)},on:{\"keyup\":keyboardNav,\"click\":function($event){return _vm.$emit('close')}}}):(menuitem.type === 'linkNestedDoc')?_c('select',{attrs:{\"role\":\"menuitem\",\"tabindex\":menuitem.tabindex},on:{\"keyup\":keyboardNav,\"change\":function($event){return _vm.menuAction(menuitem, $event)}}},_vm._l((menuitem.values),function(value){return _c('option',{key:value.value,domProps:{\"value\":value.value,\"selected\":value.checked,\"innerHTML\":_vm._s(value.label)}})}),0):_vm._e()])}),0):_vm._e()]})],2)}),0)]}}])}),(_vm.showNested)?_c('div',{staticClass:\"nested\"},[_c('text-editor',{attrs:{\"config\":_vm.config,\"nestedDocs\":_vm.nestedDocs,\"nested\":_vm.nestedSettings},on:{\"close\":_vm.closeNestedEditor},model:{value:(_vm.nestedDocs[_vm.nestedSettings.type][_vm.nestedSettings.id].content[0]),callback:function ($$v) {_vm.$set(_vm.nestedDocs[_vm.nestedSettings.type][_vm.nestedSettings.id].content, 0, $$v)},expression:\"nestedDocs[nestedSettings.type][nestedSettings.id].content[0]\"}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\n * Performs a deep cloning of the first element of the parameters.\n */\nexport default function deepclone(obj: any): any {\n    if (obj === undefined) {\n        return undefined;\n    } else if (obj === null) {\n        return null;\n    } else if (Array.isArray(obj)) {\n        return obj.map((val) => {\n            return deepclone(val);\n        });\n    } else if (typeof(obj) === 'object') {\n        let clone = <any>{};\n        Object.keys(obj).forEach(function(key) {\n            clone[key] = deepclone(obj[key]);\n        });\n        return clone;\n    } else {\n        return obj;\n    }\n}\n","import { Schema, NodeSpec, MarkSpec, MarkType, NodeType, Mark, ResolvedPos } from 'prosemirror-model';\nimport { EditorState, Transaction } from 'prosemirror-state';\nimport { findSelectedNodeOfType, findParentNodeOfType } from 'prosemirror-utils';\nimport { liftTarget } from 'prosemirror-transform';\n\nimport { TextEditorNodeConfig } from '@/interfaces';\n\n/**\n * Generate the Prosemirror schema structure for nodes from the general node configuration.\n */\nexport function generateSchemaNodes(schema: TextEditorNodeConfig[]) {\n    const nodes = {\n        doc: {\n            content: 'block+',\n        }\n    } as { [x: string]: NodeSpec };\n    schema.forEach((config) => {\n        if (config.type === 'block') {\n            nodes[config.name] = {\n                content: 'inline*',\n                group: 'block',\n                attrs: config.attrs,\n                parseDOM: [{\n                    tag: `div.node-${config.name}`,\n                    node: config.name,\n                    getAttrs: (dom: Node | string) => {\n                        let attrs = {} as any;\n                        if (config.attrs) {\n                            Object.keys(config.attrs).forEach((key) => {\n                                let value = (dom as HTMLElement).getAttribute(`data-${key}`);\n                                if (value) {\n                                    attrs[key] = value;\n                                }\n                            });\n                        }\n                        return attrs;\n                    }\n                }],\n                toDOM: (node) => {\n                    let attributes = {\n                        class: `node-${config.name}`,\n                    } as any;\n                    Object.entries(node.attrs).forEach(([key, value]) => {\n                        attributes[`data-${key}`] = value;\n                    });\n                    return ['div', attributes, 0];\n                },\n            };\n        } else if (config.type === 'wrapping') {\n            nodes[config.name] = {\n                content: config.content + '+',\n                group: 'block',\n                attrs: config.attrs,\n                parseDOM: [{\n                    tag: `div.node-${config.name}`,\n                    getAttrs: (dom: Node | string) => {\n                        let attrs = {} as any;\n                        if (config.attrs) {\n                            Object.keys(config.attrs).forEach((key) => {\n                                let value = (dom as HTMLElement).getAttribute(`data-${key}`);\n                                if (value) {\n                                    attrs[key] = value;\n                                }\n                            });\n                        }\n                        return attrs;\n                    }\n                }],\n                toDOM: (node: any) => {\n                    let attributes = {\n                        class: `node-${config.name}`,\n                    } as any;\n                    Object.entries(node.attrs).forEach(([key, value]) => {\n                        attributes[`data-${key}`] = value;\n                    });\n                    return ['div', attributes, 0];\n                },\n            };\n        } else if (config.type === 'inline' && config.name === 'text') {\n            nodes.text = {\n                group: 'inline',\n            };\n        } else if (config.type === 'inline' && config.name !== 'text') {\n            nodes[config.name] = {\n                content: 'inline*',\n                group: 'inline',\n                inline: true,\n                attrs: config.attrs,\n                parseDOM: [{\n                    tag: `span.node-${config.name}`,\n                    getAttrs: (dom: Node | string) => {\n                        let attrs = {} as any;\n                        if (config.attrs) {\n                            Object.keys(config.attrs).forEach((key) => {\n                                let value = (dom as HTMLElement).getAttribute(`data-${key}`);\n                                if (value) {\n                                    attrs[key] = value;\n                                }\n                            });\n                        }\n                        return attrs;\n                    }\n                }],\n                toDOM: (node) => {\n                    let attributes = {\n                        class: `node-${config.name}`,\n                    } as any;\n                    Object.entries(node.attrs).forEach(([key, value]) => {\n                        attributes[`data-${key}`] = value;\n                    });\n                    return ['span', attributes, 0];\n                },\n            };\n        }\n    });\n    return nodes;\n}\n\n/**\n * Generate the Prosemirror schema structure for marks from the general node configuration.\n */\nexport function generateSchemaMarks(schema: TextEditorNodeConfig[]) {\n    const marks = {\n    } as { [x: string]: MarkSpec };\n    schema.forEach((config) => {\n        if (config.type === 'mark') {\n            marks[config.name] = {\n                attrs: config.attrs,\n                parseDOM: [\n                    {\n                        tag: `span.mark-${config.name}`,\n                        getAttrs: (dom: Node | string) => {\n                            let attrs = {} as any;\n                            if (config.attrs) {\n                                Object.keys(config.attrs).forEach((key) => {\n                                    let value = (dom as HTMLElement).getAttribute(`data-${key}`);\n                                    if (value) {\n                                        attrs[key] = value;\n                                    }\n                                });\n                            }\n                            return attrs;\n                        }\n                    },\n                ],\n                toDOM: (mark: any) => {\n                    let attributes = {\n                        class: `mark-${config.name}`,\n                    } as any;\n                    Object.entries(mark.attrs).forEach(([key, value]) => {\n                        if (value) {\n                            attributes[`data-${key}`] = value;\n                        }\n                    });\n                    return ['span', attributes, 0]\n                },\n            };\n        }\n    });\n    return marks;\n}\n\n/**\n * Calculate the full range of the given mark type.\n *\n * Taken from https://github.com/scrumpy/tiptap/blob/master/packages/tiptap-utils/src/utils/getMarkRange.js\n */\nexport function getMarkRange($pos: ResolvedPos, type: MarkType) {\n    if (!$pos || !type) {\n        return false;\n    }\n    const start = $pos.parent.childAfter($pos.parentOffset)\n    if (!start.node) {\n        return false;\n    }\n    const link = start.node.marks.find((mark: Mark) => { return mark.type === type; })\n    if (!link) {\n        return false;\n    }\n    let startIndex = $pos.index();\n    let startPos = $pos.start() + start.offset;\n    let endIndex = startIndex + 1;\n    let endPos = startPos + start.node.nodeSize;\n    while (startIndex > 0 && link.isInSet($pos.parent.child(startIndex - 1).marks)) {\n        startIndex -= 1;\n        startPos -= $pos.parent.child(startIndex).nodeSize;\n    }\n    while (endIndex < $pos.parent.childCount && link.isInSet($pos.parent.child(endIndex).marks)) {\n        endPos += $pos.parent.child(endIndex).nodeSize;\n        endIndex += 1;\n    }\n    return { from: startPos, to: endPos };\n}\n\n/**\n * Update the mark of the given type with the new attributes.\n */\nexport function updateMark(type: MarkType, attrs: {[x: string]: string}) {\n    return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n        const { tr, selection, doc } = state;\n        let { from, to } = selection;\n        const { $from, empty } = selection;\n        if (empty) {\n            const range = getMarkRange($from, type)\n            if (range) {\n                from = range.from;\n                to = range.to;\n            }\n        }\n        const hasMark = doc.rangeHasMark(from, to, type)\n        if (hasMark) {\n            tr.removeMark(from, to, type)\n        }\n        tr.addMark(from, to, type.create(attrs))\n        return dispatch(tr);\n    }\n}\n\n/**\n * Remove the mark of the given type.\n */\nexport function removeMark(type: MarkType) {\n    return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n        const { tr, selection, doc } = state;\n        let { from, to } = selection;\n        const { $from, empty } = selection;\n        if (empty) {\n            const range = getMarkRange($from, type)\n            if (range) {\n                from = range.from;\n                to = range.to;\n            }\n        }\n        const hasMark = doc.rangeHasMark(from, to, type)\n        if (hasMark) {\n            tr.removeMark(from, to, type)\n            return dispatch(tr);\n        }\n    }\n}\n\n/**\n * Update the inline node of the given type with the given attributes.\n */\nexport function updateInlineNode(type: NodeType, attrs: {[x: string]: string}) {\n    return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n        const result = findSelectedNodeOfType(type)(state.selection) || findParentNodeOfType(type)(state.selection);\n        if (result) {\n            const tr = state.tr.replaceRangeWith(result.pos, result.pos + result.node.nodeSize, type.create(attrs, result.node.content));\n            dispatch(tr);\n        }\n    }\n}\n\n/**\n * Set the current block's type to contentType and then wrap it in the wrappingType block.\n */\nexport function wrapNode(wrappingType: NodeType, contentType: NodeType) {\n    return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n        const { $from, $to } = state.selection;\n        const range = $from.blockRange($to);\n\n        if (range) {\n            let tr = state.tr.setBlockType(range.$from.pos, range.$to.pos, contentType);\n            tr = tr.wrap(range, [{type: wrappingType}]);\n            dispatch(tr);\n        } else {\n            return false;\n        }\n    }\n}\n\n/**\n * Unwrap the current wrapped node and set it to the given type.\n */\nexport function unwrapNode(type: NodeType) {\n    return (state: EditorState, dispatch: (tr: Transaction) => void) => {\n        const { $from, $to } = state.selection;\n        const range = $from.blockRange($to);\n        const target = range && liftTarget(range)\n\n        if (range && target !== null && target !== undefined) {\n            let tr = state.tr.lift(range, target);\n            tr = tr.setBlockType(range.$from.pos, range.$to.pos, type);\n            dispatch(tr);\n        } else {\n            return false;\n        }\n    }\n}\n\n/**\n * Test if the current node is inside a wrapping node type.\n */\nexport function isWrappedNode(state: EditorState, schema: any[], editorSchema: Schema) {\n    for (let idx = 0; idx < schema.length; idx++) {\n        if (schema[idx].type === 'wrapping') {\n            if (findParentNodeOfType(editorSchema.nodes[schema[idx].name])(state.selection)) {\n                return true;\n            }\n        }\n    }\n    return false;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\nimport { Schema, Fragment, Slice, Node as ProsemirrorNode } from \"prosemirror-model\";\nimport { EditorState, Transaction } from \"prosemirror-state\";\nimport { EditorView } from \"prosemirror-view\";\nimport { baseKeymap, setBlockType, toggleMark } from 'prosemirror-commands';\nimport { undo, redo, history } from 'prosemirror-history';\nimport { keymap } from 'prosemirror-keymap';\n\nimport AriaMenubar from './AriaMenubar.vue';\nimport get from '@/util/get';\nimport deepclone from '@/util/deepclone';\nimport { generateSchemaNodes, generateSchemaMarks, updateMark, removeMark, updateInlineNode, wrapNode, unwrapNode, isWrappedNode } from '@/util/prosemirror';\nimport { TextSection, TextEditorActiveElements, TextEditorSidebarBlockConfig, TextEditorMenuItem, TextEditorMenuItemValuesValue } from '@/interfaces';\n\n/**\n * The TextEditor component wraps a single prosemirror editor. It supports nested documents.\n */\n@Component({\n    components: {\n        AriaMenubar,\n    },\n    name: 'text-editor',\n})\nexport default class TextEditor extends Vue {\n    @Prop() public config!: TextSection;\n    @Prop() public value!: any;\n    @Prop() public nestedDocs!: {[x: string]: {[y: string]: any}};\n    @Prop() public nested!: {type: string, id: string};\n\n    public editor: EditorView | null = null;\n    public showNested = false;\n    public nestedSettings = null as any;\n    public stateDebounce: number | null = null\n    public internalUpdate = false;\n    public active = {} as TextEditorActiveElements;\n\n    // ===================\n    // Computed properties\n    // ===================\n\n    /**\n     * Get the schema for the editor.\n     */\n    public get editorSchema() {\n        return new Schema({\n            nodes: generateSchemaNodes(this.config.schema),\n            marks: generateSchemaMarks(this.config.schema),\n        });\n    }\n\n    /**\n     * Get the plugins for the editor.\n     */\n    public get editorPlugins() {\n        return [\n            history(),\n            keymap({\n                'Mod-z': undo,\n                'Mod-y': redo\n            }),\n            keymap(baseKeymap)\n        ];\n    }\n\n    /**\n     * Get the currently active UI (main document or nested document).\n     */\n    public get ui() {\n        if (this.nested) {\n            return this.config.ui[this.nested.type];\n        } else {\n            return this.config.ui.doc;\n        }\n    }\n\n    /**\n     * Gets the sidebar menu elements.\n     */\n    public get sidebar() {\n        return this.ui.map((blockSchema: TextEditorSidebarBlockConfig) => {\n            return {\n                label: blockSchema.label,\n                active: blockSchema.condition ? this.active[blockSchema.condition.activeType] : true,\n                entities: blockSchema.entities ? blockSchema.entities.map((entitySchema) => {\n                    return {\n                        type: entitySchema.type,\n                        entities: entitySchema.entities.map((elementSchema, idx: number) => {\n                            const entity = {\n                                type: elementSchema.type,\n                                label: elementSchema.label,\n                                nodeType: elementSchema.nodeType || elementSchema.markType,\n                                attr: elementSchema.attr,\n                                value: elementSchema.value ? elementSchema.value : '',\n                                values: [] as {[x: string]: string | null}[],\n                                checked: 'false',\n                                tabindex: idx === 0 ? 0 : -1,\n                                ariaLabel: elementSchema.ariaLabel,\n                                targetNodeType: elementSchema.targetNodeType,\n                            };\n                            if (elementSchema.type === 'setNodeType') {\n                                entity.checked = elementSchema.nodeType && this.active[elementSchema.nodeType] ? 'true': 'false';\n                            } else if (elementSchema.type === 'setNodeAttrValue') {\n                                entity.checked = elementSchema.nodeType && elementSchema.attr && this.active[elementSchema.nodeType] && this.active[elementSchema.nodeType][elementSchema.attr] === elementSchema.value ? 'true' : 'false';\n                            } else if (elementSchema.type === 'selectNodeAttr') {\n                                entity.values = elementSchema.values.map((entry) => {\n                                    return {\n                                        value: entry.value,\n                                        label: entry.label,\n                                        checked: elementSchema.nodeType && elementSchema.attr && this.active[elementSchema.nodeType] && this.active[elementSchema.nodeType][elementSchema.attr] === entry.value ? 'selected' : null,\n                                    };\n                                });\n                            } else if (elementSchema.type === 'toggleMark') {\n                                entity.checked = elementSchema.markType && this.active[elementSchema.markType] ? 'true' : 'false';\n                            } else if (elementSchema.type === 'selectMarkAttr') {\n                                entity.values = elementSchema.values.map((entry) => {\n                                    return {\n                                        value: entry.value,\n                                        label: entry.label,\n                                        checked: elementSchema.markType && elementSchema.attr && this.active[elementSchema.markType] && this.active[elementSchema.markType][elementSchema.attr] === entry.value ? 'selected' : null,\n                                    };\n                                });\n                            // } else if (elementSchema.type === 'editNestedDoc') {\n                            } else if (elementSchema.type === 'linkNestedDoc') {\n                                if (elementSchema.targetNodeType && this.nestedDocIds[elementSchema.targetNodeType]) {\n                                    entity.values = this.nestedDocIds[elementSchema.targetNodeType].map((entry) => {\n                                        return {\n                                            value: entry.value,\n                                            label: entry.label,\n                                            checked: elementSchema.nodeType && elementSchema.attr && this.active[elementSchema.nodeType] && this.active[elementSchema.nodeType][elementSchema.attr] === entry.value ? 'selected' : null,\n                                        };\n                                    });\n                                }\n                            } else if (elementSchema.type === 'setNodeAttrString') {\n                                entity.value = elementSchema.nodeType && this.active[elementSchema.nodeType] && this.active[elementSchema.nodeType][elementSchema.attr] ? this.active[elementSchema.nodeType][elementSchema.attr]: '';\n                            }\n                            return entity;\n                        }),\n                    }\n                }) : [],\n            }\n        });\n    }\n\n    /**\n     * Gets all nested document ids.\n     */\n    public get nestedDocIds() {\n        let nestedIds = {} as { [x: string]: TextEditorMenuItemValuesValue[] };\n        Object.entries(this.nestedDocs).forEach(([nestedKey, docObj]: any) => {\n            nestedIds[nestedKey] = Object.keys(docObj).map((docKey: string) => {\n                return {\n                    label: docKey,\n                    value: docKey,\n                };\n            });\n            nestedIds[nestedKey].splice(0, 0, {label: 'New', value: ''});\n        });\n        return nestedIds;\n    }\n\n    // ================\n    // Lifecycle events\n    // ================\n\n    /**\n     * Mount a new TextEditor, initialising the prosemirror editor.\n     */\n    public mounted() {\n        this.editor = new EditorView(this.$el.querySelector('.editor') as Node, {\n            state: EditorState.create({\n                schema: this.editorSchema,\n                doc: this.value ? this.editorSchema.nodeFromJSON(this.value) : null,\n                plugins: this.editorPlugins,\n            }),\n            dispatchTransaction: (transaction) => {\n                if (this.editor) {\n                    let newState = this.editor.state.apply(transaction);\n                    this.stateChanged(newState, transaction);\n                    this.editor.updateState(newState);\n                }\n            },\n        });\n    }\n\n    /**\n     * Destroy the prosemirror editor before destroying the component.\n     */\n    public beforeDestroy() {\n        if (this.editor) {\n            this.editor.destroy();\n        }\n    }\n\n    /**\n     * Update the editor state if the value changes externaly.\n     */\n    @Watch('value')\n    public updatedDoc() {\n        if (!this.internalUpdate && this.editor) {\n            this.editor.updateState(EditorState.create({\n                schema: this.editorSchema,\n                doc: this.editorSchema.nodeFromJSON(this.value),\n                plugins: this.editorPlugins,\n            }));\n        }\n        this.internalUpdate = false;\n    }\n\n    // ==============\n    // Event handlers\n    // ==============\n\n    /**\n     * Debounced Prosemirror state-change handler updates the menu and emits the input event\n     * with the current document state as JSON.\n     */\n    public stateChanged(state: EditorState, transaction: Transaction) {\n        if (this.stateDebounce !== null) {\n            clearTimeout(this.stateDebounce);\n        }\n        this.stateDebounce = window.setTimeout(() => {\n            const { from, to } = state.selection;\n            const active: TextEditorActiveElements = {};\n            state.doc.nodesBetween(from, to, (node) => {\n                active[node.type.name] = node.attrs;\n                if (node.marks) {\n                    node.marks.forEach((mark) => {\n                        if (mark.attrs) {\n                            active[mark.type.name] = mark.attrs;\n                        } else {\n                            active[mark.type.name] = {};\n                        }\n                    });\n                }\n            });\n            this.active = active;\n            this.internalUpdate = true;\n            this.$emit('input', state.doc.toJSON());\n        }, transaction.steps.length > 0 ? 500 : 50);\n    }\n\n    /**\n     * Handle all sidebar menu actions\n     */\n    public menuAction(menuItem: TextEditorMenuItem, event: Event) {\n        if (this.editor) {\n            // Set the block or inline Node type\n            if (menuItem.type === 'setNodeType' && menuItem.nodeType) {\n                if (this.editorSchema.nodes[menuItem.nodeType].isInline) {\n                    const slice = this.editor.state.selection.content();\n                    if (this.active[menuItem.nodeType]) {\n                        const nodeCallback = (node: ProsemirrorNode) => {\n                            if (node.type.isBlock) {\n                                return this.editorSchema.nodes[node.type.name].create({}, this.walkFragment(node.content, nodeCallback));\n                            } else if (node.type.isInline && node.type.name === menuItem.nodeType) {\n                                return this.editorSchema.text(node.textContent);\n                            } else {\n                                return node;\n                            }\n                        }\n                        const fragment = this.walkFragment(slice.content, nodeCallback);\n                        this.editor.dispatch(this.editor.state.tr.replaceSelection(new Slice(fragment, slice.openStart, slice.openEnd)));\n                    } else {\n                        const nodeCallback = (node: ProsemirrorNode) => {\n                            if (node.type.isBlock) {\n                                return this.editorSchema.nodes[node.type.name].create(node.attrs, this.walkFragment(node.content, nodeCallback));\n                            } else if (node.type.isText && menuItem.nodeType) {\n                                return this.editorSchema.nodes[menuItem.nodeType].create({}, node);\n                            } else if (node.type.isInline && menuItem.nodeType) {\n                                return this.editorSchema.nodes[menuItem.nodeType].create(node.attrs, node.content);\n                            } else {\n                                return node;\n                            }\n                        }\n                        const fragment = this.walkFragment(slice.content, nodeCallback);\n                        this.editor.dispatch(this.editor.state.tr.replaceSelection(new Slice(fragment, slice.openStart, slice.openEnd)));\n                    }\n                } else {\n                    if (this.isWrappingType(menuItem.nodeType)) {\n                        let contentNodeType = '';\n                        for (let idx = 0; idx < this.config.schema.length; idx++) {\n                            if (this.config.schema[idx].name === menuItem.nodeType && this.config.schema[idx].type === 'wrapping') {\n                                contentNodeType = this.config.schema[idx].content as string;\n                            }\n                        }\n                        wrapNode(this.editorSchema.nodes[menuItem.nodeType], this.editorSchema.nodes[contentNodeType])(this.editor.state, this.editor.dispatch);\n                    } else {\n                        if (isWrappedNode(this.editor.state, this.config.schema, this.editorSchema)) {\n                            unwrapNode(this.editorSchema.nodes[menuItem.nodeType])(this.editor.state, this.editor.dispatch)\n                        } else {\n                            setBlockType(this.editorSchema.nodes[menuItem.nodeType], {})(this.editor.state, this.editor.dispatch);\n                        }\n                    }\n                }\n            // Set an attribute value on a Node\n            } else if ((menuItem.type === 'setNodeAttrValue' || menuItem.type === 'selectNodeAttr' || menuItem.type === 'setNodeAttrString') && menuItem.nodeType) {\n                let attrs = {} as { [x: string]: string };\n                if (this.active[menuItem.nodeType]) {\n                    attrs = deepclone(this.active[menuItem.nodeType]);\n                }\n                if (menuItem.attr) {\n                    if (event && event.target) {\n                        attrs[menuItem.attr] = (event.target as HTMLInputElement).value;\n                    } else if (menuItem.value) {\n                        attrs[menuItem.attr] = menuItem.value;\n                    }\n                }\n                if (this.editorSchema.nodes[menuItem.nodeType].isInline) {\n                    updateInlineNode(this.editorSchema.nodes[menuItem.nodeType], attrs)(this.editor.state, this.editor.dispatch);\n                } else {\n                    setBlockType(this.editorSchema.nodes[menuItem.nodeType], attrs)(this.editor.state, this.editor.dispatch);\n                }\n            // Toggle a mark on or off\n            } else if (menuItem.type === 'toggleMark' && menuItem.nodeType) {\n                toggleMark(this.editorSchema.marks[menuItem.nodeType])(this.editor.state, this.editor.dispatch);\n            // Set an attribute on a mark\n            } else if (menuItem.type === 'selectMarkAttr' && menuItem.nodeType) {\n                let attrs = {} as { [x: string]: string };\n                if (this.active[menuItem.nodeType]) {\n                    attrs = deepclone(this.active[menuItem.nodeType]);\n                }\n                if (menuItem.attr) {\n                    if (event && event.target) {\n                        attrs[menuItem.attr] = (event.target as HTMLInputElement).value;\n                    } else if (menuItem.value) {\n                        attrs[menuItem.attr] = menuItem.value;\n                    }\n                }\n                if (attrs[menuItem.attr] === '') {\n                    removeMark(this.editorSchema.marks[menuItem.nodeType])(this.editor.state, this.editor.dispatch);\n                } else {\n                    updateMark(this.editorSchema.marks[menuItem.nodeType], attrs)(this.editor.state, this.editor.dispatch);\n                }\n            // Link to a nested docs\n            } else if (menuItem.type === 'linkNestedDoc' && menuItem.nodeType) {\n                let attrs = {} as { [x: string]: string };\n                if (this.active[menuItem.nodeType]) {\n                    attrs = deepclone(this.active[menuItem.nodeType]);\n                }\n                if (menuItem.attr) {\n                    if (event && event.target) {\n                        attrs[menuItem.attr] = (event.target as HTMLInputElement).value;\n                    } else if (menuItem.value) {\n                        attrs[menuItem.attr] = menuItem.value;\n                    }\n                }\n                updateInlineNode(this.editorSchema.nodes[menuItem.nodeType], attrs)(this.editor.state, this.editor.dispatch);\n            // Edit a nested doc\n            } else if (menuItem.type === 'editNestedDoc') {\n                if (menuItem.nodeType && menuItem.attr && menuItem.targetNodeType && this.active[menuItem.nodeType]) {\n                    let nestedId = this.active[menuItem.nodeType][menuItem.attr];\n                    if (!nestedId) {\n                        const docList = this.nestedDocs[menuItem.targetNodeType];\n                        nestedId = menuItem.targetNodeType + '-1';\n                        let idx = 1;\n                        while (docList && docList[nestedId]) {\n                            idx = idx + 1;\n                            nestedId = menuItem.targetNodeType + '-' + idx;\n                        }\n                        let attrs = {} as { [x: string]: string };\n                        if (this.active[menuItem.nodeType]) {\n                            attrs = deepclone(this.active[menuItem.nodeType]);\n                        }\n                        if (menuItem.attr) {\n                            attrs[menuItem.attr] = nestedId;\n                        }\n                        updateInlineNode(this.editorSchema.nodes[menuItem.nodeType], attrs)(this.editor.state, this.editor.dispatch);\n                        Vue.set(this.nestedDocs[menuItem.targetNodeType], nestedId, {type: 'doc', content: [{type: 'paragraph', content: []}]})\n                    }\n                    this.showNested = true;\n                    this.nestedSettings = {\n                        type: menuItem.targetNodeType,\n                        id: nestedId,\n                    }\n                }\n            }\n        }\n    }\n\n    /**\n     * Close the nested editor.\n     */\n    public closeNestedEditor() {\n        this.showNested = false;\n        this.nestedSettings = null;\n    }\n\n    // ===============\n    // Private Helpers\n    // ===============\n\n    /**\n     * Walks over the Fragment, replacing the children according to the callback.\n     */\n    private walkFragment(fragment: Fragment, callback: (x: ProsemirrorNode) => ProsemirrorNode) {\n        for (let idx = 0; idx < fragment.childCount; idx++) {\n            fragment = fragment.replaceChild(idx, callback(fragment.child(idx)));\n        }\n        return fragment;\n    }\n\n    /**\n     * Checks whether the given typeName is a wrapping node.\n     */\n    private isWrappingType(typeName: string) {\n        for (let idx = 0; idx < this.config.schema.length; idx++) {\n            if (this.config.schema[idx].name === typeName && this.config.schema[idx].type === 'wrapping') {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextEditor.vue?vue&type=template&id=4365edc5&\"\nimport script from \"./TextEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextEditor.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","function nsResolver(prefix: string | null) {\n    if (prefix === 'tei') {\n        return 'http://www.tei-c.org/ns/1.0';\n    } else if (prefix === 'xml') {\n        return 'http://www.w3.org/XML/1998/namespace';\n    } else {\n        return 'http://www.tei-c.org/ns/1.0';\n    }\n}\n\nexport default class XPathEvaluator {\n    private dom: XMLDocument;\n\n    constructor (dom: XMLDocument) {\n        this.dom = dom;\n    }\n\n    evaluate(node: Node, xpath: string, result_type: number) {\n        return this.dom.evaluate(xpath, node, nsResolver, result_type, null);\n    }\n\n    firstNode(node: Node, xpath: string) {\n        return this.evaluate(node, xpath, XPathResult.FIRST_ORDERED_NODE_TYPE).singleNodeValue;\n    }\n\n    nodeIterator(node: Node, xpath: string) {\n        return this.evaluate(node, xpath, XPathResult.ORDERED_NODE_ITERATOR_TYPE);\n    }\n\n    stringValue(node: Node, xpath: string) {\n        return this.evaluate(node, xpath, XPathResult.STRING_TYPE).stringValue;\n    }\n\n    booleanValue(node: Node, xpath: string) {\n        return this.evaluate(node, xpath, XPathResult.BOOLEAN_TYPE).booleanValue;\n    }\n\n    numberValue(node: Node, xpath: string) {\n        return this.evaluate(node, xpath, XPathResult.NUMBER_TYPE).numberValue;\n    }\n}\n","import XPathEvaluator from './XPathEvaluator';\nimport get from './get';\n\nexport default class TEIMetadataParser {\n    private dom: XMLDocument;\n    private xpath: XPathEvaluator;\n    private config: any;\n    private data: any;\n\n    constructor(dom: XMLDocument, config: any) {\n        this.dom = dom;\n        this.xpath = new XPathEvaluator(this.dom);\n        this.config = config;\n    }\n\n    public get() {\n        if (!this.data) {\n            let header = <Element>this.xpath.firstNode(this.dom.documentElement, '/tei:TEI/tei:teiHeader');\n            this.data = {};\n            for (let idx = 0; idx < this.config.schema.length; idx++) {\n                let temp = this.parseHeaderNode(header, this.config.schema[idx]);\n                if (temp) {\n                    this.data[this.config.schema[idx].tag.substring(4)] = temp;\n                }\n            }\n        }\n        return this.data;\n    }\n\n    private parseHeaderNode(node: Element, schema: any) {\n        let elements = this.xpath.nodeIterator(node, schema.tag);\n        let result = <any>[];\n        let element = <Element>elements.iterateNext();\n        while (element) {\n            let obj = <any>{\n                _attrs: {},\n                _text: element.children.length === 0 ? this.xpath.stringValue(element, 'text()') : null\n            };\n            for(let idx = 0; idx < element.attributes.length; idx++) {\n                obj._attrs[element.attributes[idx].name] = element.attributes[idx].value;\n            }\n            if (schema.children) {\n                for (let idx = 0; idx < schema.children.length; idx++) {\n                    let temp = this.parseHeaderNode(element, schema.children[idx]);\n                    if (temp) {\n                        obj[schema.children[idx].tag.substring(schema.children[idx].tag.indexOf(':') + 1)] = temp;\n                    }\n                }\n            }\n            result.push(obj);\n            element = <Element>elements.iterateNext();\n        }\n        if (result.length === 0) {\n            return null;\n        } else {\n            if (schema.multiple) {\n                return result;\n            } else {\n                return result[0];\n            }\n        }\n    }\n}\n","import XPathEvaluator from './XPathEvaluator';\nimport get from './get';\n\nexport default class TEIParser {\n    private dom: XMLDocument;\n    private xpath: XPathEvaluator;\n    private config: any;\n    private doc: any;\n    private nestedDocs: any;\n\n    constructor(dom: XMLDocument, config: any) {\n        this.dom = dom;\n        this.xpath = new XPathEvaluator(this.dom);\n        this.config = config;\n    }\n\n    public get() {\n        if (!this.doc) {\n            this.doc = {\n                type: 'doc',\n                content: [],\n            };\n            this.nestedDocs = {};\n            if (this.config.parser && this.config.parser.selector) {\n                let node = <Element>this.xpath.firstNode(this.dom.documentElement, this.config.parser.selector);\n                if (node) {\n                    for(let idx = 0; idx < node.children.length; idx++) {\n                        let tmp = this.parseContentNode(node.children[idx], this.config);\n                        if (tmp && !tmp.nestedDoc) {\n                            this.doc.content.push(tmp);\n                        } else if (tmp && tmp.nestedDoc) {\n                            this.addNestedDoc(tmp);\n                        }\n                    }\n                }\n            }\n        }\n        if (this.doc.content.length === 0) {\n            return [null, {}];\n        } else {\n            return [this.doc, this.nestedDocs];\n        }\n    }\n\n    private parseContentAttributes(node: Element, attrs: any) {\n        // Parse attributes for nodes or marks. Attributes can have a type which is boolean, number, static, or string (default).\n        let result = <any>{};\n        Object.entries(attrs).forEach(([key, schema]: any) => {\n            let parsers = <any>[];\n            if (schema.parser) {\n                parsers.push(schema.parser);\n            } else if (schema.parsers) {\n                parsers = schema.parsers;\n            }\n            for (let idx = 0; idx < parsers.length; idx++) {\n                let parser = parsers[idx];\n                if (parser.type === 'boolean') {\n                    result[key] = this.xpath.booleanValue(node, parser.selector);\n                } else if (parser.type === 'number') {\n                    try {\n                        result[key] = this.xpath.numberValue(node, parser.selector);\n                    } catch(e) {\n                        // eslint-disable-next-line\n                        console.log(e);\n                    }\n                } else if (parser.type === 'static') {\n                    if (this.xpath.booleanValue(node, parser.selector)) {\n                        result[key] = parser.value;\n                    }\n                } else {\n                    try {\n                        let value = this.xpath.stringValue(node, parser.selector);\n                        if (value) {\n                            result[key] = value;\n                        }\n                    } catch(e) {\n                        // eslint-disable-next-line\n                        console.log(e);\n                    }\n                }\n            }\n        });\n        return result;\n    }\n\n    private parseContentMarks(node: Element, schema: any) {\n        // Parse the marks of a text node\n        let result = <any>[];\n        schema.forEach((entry: any) => {\n            if (entry.type === 'mark') {\n                let parsers = <any>[];\n                if (entry.parser) {\n                    parsers.push(entry.parser);\n                } else if (entry.parsers) {\n                    parsers = entry.parsers;\n                }\n                for (let idx = 0; idx < parsers.length; idx++) {\n                    if (this.xpath.booleanValue(node, parsers[idx].selector)) {\n                        let mark = <any>{\n                            type: entry.name\n                        };\n                        if (entry.attrs) {\n                            mark.attrs = this.parseContentAttributes(node, entry.attrs);\n                        }\n                        result.push(mark);\n                    }\n                }\n            }\n        });\n        return result;\n    }\n\n    private parseContentNode(node: Element, section: any) {\n        // Parse a single content node\n        let entries = Object.entries(section.schema);\n        for (let idx = 0; idx < entries.length; idx++) {\n            //let key = entries[idx][0];\n            let nodeSchema = <any>entries[idx][1];\n            let parsers = <any>[];\n            if (nodeSchema.parser) {\n                parsers.push(nodeSchema.parser);\n            } else if (nodeSchema.parsers) {\n                parsers = parsers.concat(nodeSchema.parsers);\n            }\n            for (let idx2 = 0; idx2 < parsers.length; idx2++) {\n                let parser = parsers[idx2];\n                if (this.xpath.firstNode(node, 'self::' + parser.selector) !== null) {\n                    // The first schema node where the parser selector matches is chosen as the result\n                    let result = <any>{\n                        type: nodeSchema.name\n                    };\n                    if (nodeSchema.attrs) {\n                        result.attrs = this.parseContentAttributes(node, nodeSchema.attrs);\n                    }\n                    if (nodeSchema.type === 'nested') {\n                        result.nestedDoc = true;\n                    }\n                    if (nodeSchema.type === 'inline') {\n                        // Inline nodes are either loaded as text nodes with marks or as complex text nodes\n                        if (nodeSchema.name === 'text') {\n                            result.text = this.xpath.stringValue(node, parser.text);\n                            result.marks = this.parseContentMarks(node, section.schema);\n                            if (node.children.length === 1) {\n                                let temp = this.parseContentNode(node.children[0], section);\n                                if (temp.text && temp.text !== '') {\n                                    result.text = temp.text;\n                                }\n                                result.marks = result.marks.concat(temp.marks);\n                            }\n                        } else {\n                            if (node.children.length === 0) {\n                                // Inline nodes without children need a virtual text node added if they have text\n                                if (this.xpath.stringValue(node, parser.text)) {\n                                    result.content = [\n                                        {\n                                            type: 'text',\n                                            text: this.xpath.stringValue(node, parser.text),\n                                            marks: this.parseContentMarks(node, section.schema)\n                                        }\n                                    ];\n                                }\n                            } else {\n                                let content = [];\n                                for (let idx3 = 0; idx3 < node.children.length; idx3++) {\n                                    let child = this.parseContentNode(node.children[idx3], section);\n                                    if (child) {\n                                        content.push(child);\n                                    }\n                                }\n                                result.content = content;\n                            }\n                        }\n                    } else {\n                        let content = [];\n                        for (let idx3 = 0; idx3 < node.children.length; idx3++) {\n                            let child = this.parseContentNode(node.children[idx3], section);\n                            if (child && !child.nestedDoc) {\n                                content.push(child);\n                            } else if (child && child.nestedDoc) {\n                                this.addNestedDoc(child);\n                            }\n                        }\n                        result.content = content;\n                    }\n                    return result;\n                }\n            }\n        }\n        return null;\n    }\n\n    private addNestedDoc(nestedParent: any) {\n        if (nestedParent.attrs && nestedParent.attrs.id) {\n            if (!this.nestedDocs[nestedParent.type]) {\n                this.nestedDocs[nestedParent.type] = {};\n            }\n            this.nestedDocs[nestedParent.type][nestedParent.attrs.id] = nestedParent;\n            let nestedDoc = {\n                type: 'doc',\n                content: nestedParent.content,\n            }\n            nestedParent.content = [nestedDoc];\n        }\n    }\n}\n","export default class TEISerialiser {\n    nested: any;\n\n    public serialise(data: any, sections: any) {\n        let root = {\n            node: 'tei:TEI',\n            attrs: {\n                'xmlns:tei': ['http://www.tei-c.org/ns/1.0']\n            },\n            children: []\n        }\n        Object.entries(sections).forEach(([key, section]: any) => {\n            if (section.type === 'MetadataEditor') {\n                this.mergeTrees(root, this.serialiseHeader(data[key], section));\n            }\n        });\n        Object.entries(sections).forEach(([key, section]: any) => {\n            if (section.type === 'TextEditor') {\n                this.mergeTrees(root, this.serialiseSingleText(data[key], section));\n            }\n        });\n        let lines = this.toString(root, '');\n        lines.splice(0, 0, '<?xml version=\"1.0\" encoding=\"UTF-8\"?>');\n        lines.push('');\n        return lines.join('\\n');\n    }\n\n    private mergeTrees(base: any, merge: any) {\n        // Merge one tree into another. If either of the two trees tries to merge at a level where sibling nodes have the\n        // same tags, this will break\n        if (base && merge) {\n            for (let idx = 0; idx < merge.children.length; idx++) {\n                let found = false;\n                for (let idx2 = 0; idx2 < base.children.length; idx2++) {\n                    if (base.children[idx2].node === merge.children[idx].node && this.objectsMatch(base.children[idx2].attrs, merge.children[idx].attrs)) {\n                        this.mergeTrees(base.children[idx2], merge.children[idx]);\n                        found = true;\n                    }\n                }\n                if (!found) {\n                    base.children.push(merge.children[idx]);\n                }\n            }\n        }\n    }\n\n    private objectsMatch(a: any, b: any) {\n        if (a && b) {\n            if (typeof a !== typeof b) {\n                return false;\n            } else if (typeof a === 'string' || typeof a === 'number' || typeof a === 'boolean') {\n                return a === b;\n            }\n            let keysA = Object.keys(a);\n            let keysB = Object.keys(b);\n            keysA.forEach((key) => {\n                if (keysB.indexOf(key) < 0) {\n                    return false;\n                }\n                if (!this.objectsMatch(a[key], b[key])) {\n                    return false;\n                }\n                keysB.splice(keysB.indexOf(key), 1);\n            });\n            if (keysB.length > 0) {\n                return false;\n            }\n            return true;\n        } else if(!a && !b) {\n            return true;\n        } else {\n            return false;\n        }\n    }\n\n    private serialiseSingleText(data: any, section: any) {\n        if (data) {\n            let rootPath = section.serialiser.tag.split('/');\n            this.nested = {} as any;\n            let text = {\n                node: rootPath[rootPath.length - 1],\n                children: data.doc.content.map((item: any) => {\n                    return this.serialiseTextNode(item, section.schema);\n                }),\n                attrs: {}\n            } as any;\n            if (section.serialiser.attrs) {\n                Object.entries(section.serialiser.attrs).forEach(([key, value]) => {\n                    if (text.attrs[key]) {\n                        text.attrs[key].push(value);\n                    } else {\n                        text.attrs[key] = [value];\n                    }\n                });\n            }\n            Object.entries(this.nested).forEach(([key, ids]: any) => {\n                new Set(ids).forEach((id: any) => {\n                    if (data.nested[key] && data.nested[key][id]) {\n                        text.children.push(this.serialiseTextNode(data.nested[key][id], section.schema));\n                    }\n                })\n            });\n\n            for (let idx = rootPath.length - 2; idx >= 0; idx--) {\n                text = {\n                    node: rootPath[idx],\n                    children: [\n                        text,\n                    ]\n                };\n            }\n\n            return {\n                node: 'tei:TEI',\n                children: [\n                    text\n                ]\n            }\n        } else {\n            return null;\n        }\n    }\n\n    private serialiseTextNode(node: any, schema: any) {\n        let nodeSchema = schema.filter((part: any) => { return part.name === node.type && part.serialiser });\n        if (nodeSchema.length === 1) {\n            nodeSchema = nodeSchema[0];\n            // Basic structure\n            let obj = {\n                node: nodeSchema.serialiser.tag,\n                attrs: {},\n                children: [],\n                text: null\n            } as any;\n            // Optional static attributes defined by the node itself\n            if (nodeSchema.serialiser.attrs) {\n                Object.entries(nodeSchema.serialiser.attrs).forEach((entry: any) => {\n                    obj.attrs[entry[0]] = [entry[1]];\n                });\n            }\n            // Attributes are serialised as a dict of key => list pairs to simplify handling multi-value attributes\n            if (node.attrs) {\n                Object.entries(node.attrs).forEach((entry: any) => {\n                    let serialiser = nodeSchema.attrs[entry[0]].serialiser;\n                    if (serialiser) {\n                        let value = undefined;\n                        // Values can either be serialised directly, through string replacement in the value key, or\n                        // through value lookup in the values key.\n                        if (serialiser.values) {\n                            if (serialiser.values[entry[1]]) {\n                                value = serialiser.values[entry[1]];\n                            }\n                        } else if (serialiser.value) {\n                            value = serialiser.value.replace('{value}', entry[1]);\n                        } else {\n                            value = entry[1];\n                        }\n                        if (value !== undefined) {\n                            if (serialiser.attr === 'text()') {\n                                obj.text = value;\n                            } else {\n                                if (obj.attrs[serialiser.attr]) {\n                                    obj.attrs[serialiser.attr].push(value);\n                                } else {\n                                    obj.attrs[serialiser.attr] = [value];\n                                }\n                            }\n                        }\n                    }\n                });\n            }\n            if (nodeSchema.type === 'inline') {\n                if (node.content) {\n                    // Inline nodes with content are serialised like any other block node, if they have more than one\n                    // content element. Otherwise the text is fetched from the single child element\n                    if (node.content.length > 1 || (node.content[0].marks && node.content[0].marks.length > 0)) {\n                        node.content.forEach((child: any) => {\n                            obj.children.push(this.serialiseTextNode(child, schema));\n                        });\n                    } else {\n                        let temp = this.serialiseTextNode(node.content[0], schema);\n                        if (nodeSchema.serialiser.text) {\n                            // By setting the text.attr value in the serialiser, the text can be serialised into an attribute\n                            if (obj.attrs[nodeSchema.serialiser.text.attr]) {\n                                obj.attrs[nodeSchema.serialiser.text.attr].push(temp.text);\n                            } else {\n                                obj.attrs[nodeSchema.serialiser.text.attr] = [temp.text];\n                            }\n                        } else {\n                            obj.text = temp.text;\n                        }\n                    }\n                } else if (node.text) {\n                    // As above allow serialisation of text into an attribute\n                    if (nodeSchema.serialiser.text) {\n                        if (obj.attrs[nodeSchema.serialiser.text.attr]) {\n                            obj.attrs[nodeSchema.serialiser.text.attr].push(node.text);\n                        } else {\n                            obj.attrs[nodeSchema.serialiser.text.attr] = [node.text];\n                        }\n                    } else {\n                        obj.text = node.text;\n                    }\n                }\n                if (node.marks) {\n                    // First map all marks to temporary objects\n                    let markObjs = node.marks.map((mark: any) => {\n                        let markSchema = schema.filter((part: any) => { return part.name === mark.type && part.serialiser });\n                        if (markSchema.length === 1) {\n                            markSchema = markSchema[0];\n                            let markObj = {\n                                node: obj.node,\n                                attrs: {}\n                            } as any;\n                            let serialiser = markSchema.serialiser;\n                            if (serialiser.tag) {\n                                markObj.node = serialiser.tag;\n                            }\n                            if (serialiser.attrs) {\n                                // Static attribute values can be serialised into the node for marks\n                                Object.entries(serialiser.attrs).forEach((entry: any) => {\n                                    if (entry[1].value) {\n                                        if (markObj.attrs[entry[0]]) {\n                                            markObj.attrs[entry[0]].push(entry[1].value);\n                                        } else {\n                                            markObj.attrs[entry[0]] = [entry[1].value];\n                                        }\n                                    }\n                                });\n                            }\n                            if (mark.attrs) {\n                                Object.entries(mark.attrs).forEach((entry: any) => {\n                                    // Marks with attributes can have those attributes serialised either via a value replacement\n                                    // or through value lookup in the values dict.\n                                    let value = undefined;\n                                    if (markSchema.attrs[entry[0]].serialiser.value) {\n                                        value = markSchema.attrs[entry[0]].serialiser.value.replace('{value}', entry[1]);\n                                    } else if (markSchema.attrs[entry[0]].serialiser.values) {\n                                        if (markSchema.attrs[entry[0]].serialiser.values[entry[1]]) {\n                                            value = markSchema.attrs[entry[0]].serialiser.values[entry[1]];\n                                        }\n                                    }\n                                    if (value !== undefined) {\n                                        if (markObj.attrs[markSchema.attrs[entry[0]].serialiser.attr]) {\n                                            markObj.attrs[markSchema.attrs[entry[0]].serialiser.attr].push(value);\n                                        } else {\n                                            markObj.attrs[markSchema.attrs[entry[0]].serialiser.attr] = [value];\n                                        }\n                                    }\n                                });\n                            }\n                            return markObj;\n                        } else {\n                            return null;\n                        }\n                    }).filter((markObj: any) => { return markObj; });\n                    if ((new Set(markObjs.map((markObj: any) => { return markObj.node; }))).size > 1) {\n                        // If there are multiple nodes in the marks, then the output needs to be nested\n                        markObjs.sort((a: any, b: any) => {\n                            if (a.node < b.node) {\n                                return -1;\n                            } else if (a.node > b.node) {\n                                return 1;\n                            } else if (a.node === b.node) {\n                                return 0;\n                            }\n                        });\n                        let target = obj;\n                        target.node = null;\n                        // Build the nested structure\n                        markObjs.forEach((markObj: any) => {\n                            if (target.node === null || target.node === markObj.node) {\n                                target.node = markObj.node;\n                                Object.entries(markObj.attrs).forEach((entry) => {\n                                    if (target.attrs[entry[0]]) {\n                                        target.attrs[entry[0]] = target.attrs[entry[0]].concat(entry[1]);\n                                    } else {\n                                        target.attrs[entry[0]] = entry[1];\n                                    }\n                                });\n                            } else {\n                                let tmpObj = {\n                                    node: markObj.node,\n                                    attrs: markObj.attrs,\n                                    children: [],\n                                    text: target.text\n                                };\n                                target.text = null;\n                                target.children.push(tmpObj);\n                                target = tmpObj;\n                            }\n                        });\n                    } else {\n                        // If there is only one node in the marks, then the output can be flattened\n                        markObjs.forEach((markObj: any) => {\n                            if (markObj) {\n                                if (markObj.node) {\n                                    obj.node = markObj.node;\n                                }\n                                if (markObj.attrs) {\n                                    Object.entries(markObj.attrs).forEach((entry: any) => {\n                                        if (obj.attrs[entry[0]]) {\n                                            obj.attrs[entry[0]] = obj.attrs[entry[0]].concat(entry[1]);\n                                        } else {\n                                            obj.attrs[entry[0]] = entry[1];\n                                        }\n                                    });\n                                }\n                            }\n                        });\n                    }\n                }\n            } else if (node.content) {\n                // Block nodes simply get their content\n                node.content.forEach((child: any) => {\n                    if (child.type === 'doc') {\n                        if (child.content) {\n                            child.content.forEach((subChild: any) => {\n                                obj.children.push(this.serialiseTextNode(subChild, schema));\n                            });\n                        }\n                    } else {\n                        obj.children.push(this.serialiseTextNode(child, schema));\n                    }\n                });\n            }\n            // Check for links to nested objects\n            if (nodeSchema.reference) {\n                if (!this.nested[nodeSchema.reference.type]) {\n                    this.nested[nodeSchema.reference.type] = [];\n                }\n                this.nested[nodeSchema.reference.type].push(node.attrs[nodeSchema.reference.attr]);\n            }\n            if (obj.children.length > 0 || obj.text || Object.keys(obj.attrs).length > 0) {\n                return obj;\n            } else {\n                return null;\n            }\n        } else {\n            return null;\n        }\n    }\n\n    private serialiseHeader(data: any, section: any) {\n        return {\n            node: 'tei:TEI',\n            children: [\n                {\n                    node: 'tei:teiHeader',\n                    children: section.schema.map((config: any) => {return this.serialiseMetadataNode(data[config.tag.substring(4)], config)})\n                }\n            ]\n        }\n    }\n\n    private serialiseMetadataNode(data: any, config: any) {\n        if (config.multiple) {\n            let items = data.map((item: any) => {\n                let result = {\n                    node: config.tag\n                } as any;\n                if (item._text) {\n                    result.text = item._text;\n                }\n                if (item._attrs) {\n                    result.attrs = {};\n                    Object.entries(item._attrs).forEach((entry: any) => {\n                        result.attrs[entry[0]] = [entry[1]];\n                    });\n                }\n                if (config.children) {\n                    result.children = [];\n                    for (let idx = 0; idx < config.children.length; idx++) {\n                        if (item[config.children[idx].tag.substring(4)]) {\n                            let temp = this.serialiseMetadataNode(item[config.children[idx].tag.substring(4)], config.children[idx]);\n                            if (Array.isArray(temp)) {\n                                result.children = result.children.concat(temp);\n                            } else {\n                                result.children.push(temp);\n                            }\n                        }\n                    }\n                }\n                return result;\n            });\n            return items;\n        } else {\n            let result = {\n                node: config.tag\n            } as any;\n            if (data) {\n                if (data._text) {\n                    result.text = data._text;\n                }\n                if (data._attrs) {\n                    result.attrs = {};\n                    Object.entries(data._attrs).forEach((entry: any) => {\n                        result.attrs[entry[0]] = [entry[1]];\n                    });\n                }\n                if (config.children) {\n                    result.children = [];\n                    for (let idx = 0; idx < config.children.length; idx++) {\n                        if (data[config.children[idx].tag.substring(4)]) {\n                            let temp = this.serialiseMetadataNode(data[config.children[idx].tag.substring(4)], config.children[idx]);\n                            if (Array.isArray(temp)) {\n                                result.children = result.children.concat(temp);\n                            } else {\n                                result.children.push(temp);\n                            }\n                        }\n                    }\n                }\n            }\n            return result;\n        }\n    }\n\n    private toString(node: any, indentation: string) {\n        function xmlSafe(txt: string) {\n            return txt.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;');\n        }\n\n        // Render a node into an XML string representation as a list of lines\n        let lines = [] as any[];\n        if (node) {\n            let buffer = [indentation, '<', node.node];\n            if (node.attrs) {\n                Object.entries(node.attrs).forEach((entry: any) => {\n                    if (entry[1].length > 0) {\n                        entry[1].sort();\n                        buffer.push(' ' + entry[0] + '=\"' + xmlSafe(entry[1].join(' ')) + '\"');\n                    }\n                });\n            }\n            if (node.children && node.children.length > 0) {\n                buffer.push('>');\n                lines.push(buffer.join(''));\n                node.children.forEach((child: any) => {\n                    lines = lines.concat(this.toString(child, indentation + '  '));\n                });\n                lines.push(indentation + '</' + node.node + '>');\n            } else {\n                if (node.text) {\n                    buffer.push('>');\n                    buffer.push(xmlSafe(node.text));\n                    buffer.push('</' + node.node + '>');\n                } else {\n                    buffer.push('/>');\n                }\n                lines.push(buffer.join(''));\n            }\n        }\n        return lines;\n    }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue, Prop, Watch } from 'vue-property-decorator';\n\nimport AriaMenubar from './AriaMenubar.vue';\nimport AriaMenu from './AriaMenu.vue';\nimport MetadataEditor from './MetadataEditor.vue';\nimport TextEditor from './TextEditor.vue';\n\nimport TEIMetadataParser from '@/util/TEIMetadataParser';\nimport TEITextParser from '@/util/TEITextParser';\nimport TEISeraliser from '@/util/TEISerialiser';\n\nimport { Config, TextDocsStore, TextSection, MetadataSection } from '@/interfaces';\n\n/**\n * The TeiEditor component provides the full editor interface, for both text and metadata editing.\n */\n@Component({\n    components: {\n        AriaMenubar,\n        AriaMenu,\n        TextEditor,\n        MetadataEditor,\n    },\n})\nexport default class TeiEditor extends Vue {\n    @Prop() public config!: Config;\n    @Prop() public autoLoadCallback!: (callback: (data: string) => void) => void;\n    @Prop() public loadCallback!: (callback: (data: string) => void) => void;\n    public currentSection: string | null = null;\n    public textData = {} as TextDocsStore;\n    public metadata = {};\n\n    // ================\n    // Lifecycle events\n    // ================\n\n    /**\n     * Mount the component, initialising the current section and automatically loading any content.\n     */\n    public mounted() {\n        this.currentSection = Object.keys(this.config.sections)[0];\n        if (this.autoLoadCallback) {\n            this.autoLoadCallback(this.loadData);\n        }\n    }\n\n    // ==============\n    // Event handlers\n    // ==============\n\n    /**\n     * Set the currently selected section.\n     */\n    public setCurrentSection(section: string) {\n        this.currentSection = section;\n    }\n\n    /**\n     * Save the current state of the various sections and emit the serialised data via the \"save\" event.\n     */\n    public save() {\n        const serialiser = new TEISeraliser();\n        const data = { metadata: this.metadata, ... this.textData}\n        this.$emit('save', serialiser.serialise(data, this.config.sections));\n    }\n\n    /**\n     * Load the editor state via the configured loadCallback.\n     */\n    public load() {\n        if (this.loadCallback) {\n            this.loadCallback(this.loadData);\n        }\n    }\n\n    /**\n     * Handler to load the actual data.\n     */\n    public loadData(data: string) {\n        const domParser = new DOMParser();\n        const dom = domParser.parseFromString(data, 'application/xml');\n        this.metadata = {};\n        this.textData = {};\n        Object.entries(this.config.sections).forEach(([key, config]: [string, TextSection | MetadataSection]) => {\n            if (config.type === 'MetadataEditor') {\n                this.metadata = (new TEIMetadataParser(dom, config)).get();\n            } else if (config.type === 'TextEditor') {\n                const [doc, nestedDocs] = (new TEITextParser(dom, config)).get();\n                Vue.set(this.textData, key, {\n                    doc: doc,\n                    nested: nestedDocs,\n                });\n            }\n        });\n    }\n\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeiEditor.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeiEditor.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TeiEditor.vue?vue&type=template&id=503e535e&\"\nimport script from \"./TeiEditor.vue?vue&type=script&lang=ts&\"\nexport * from \"./TeiEditor.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TeiEditor.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport TeiEditor from \"./components/TeiEditor.vue\";\nimport { Config } from \"@/interfaces\";\n\n@Component({\n    components: {\n        TeiEditor\n    }\n})\nexport default class App extends Vue {\n    public config = null as Config | null;\n\n    public mounted() {\n        const configElement = document.getElementById('TEIEditorConfig');\n        if (configElement) {\n            const config = JSON.parse(configElement.innerHTML);\n            if (config) {\n                this.config = config;\n            }\n        }\n    }\n\n    public autoLoad(callback: (data: string) => void) {\n        const docElement = document.getElementById('TEIEditorDocument');\n        if (docElement) {\n            callback(docElement.innerHTML);\n        }\n    }\n\n    public load(callback: (data: string) => void) {\n        const fileSelector = document.createElement('input');\n        fileSelector.setAttribute('type', 'file');\n        fileSelector.setAttribute('class', 'hidden');\n        const body = document.querySelector('body');\n        if (body) {\n            body.appendChild(fileSelector);\n            fileSelector.click();\n            fileSelector.addEventListener('change', function(ev: Event) {\n                if (ev.target) {\n                    const files = (ev.target as HTMLInputElement).files;\n                    if (files && files.length > 0) {\n                        const reader = new FileReader();\n                        reader.onload = (ev: Event) => {\n                            if (ev.target) {\n                                callback((ev.target as FileReader).result as string);\n                            }\n                        }\n                        reader.readAsText(files[0]);\n                    }\n                }\n                fileSelector.remove();\n            });\n        }\n    }\n\n    public save(data: string) {\n        const blob = new Blob([data], {type: 'text/xml;charset=utf-8'});\n        const link = document.createElement('a');\n        link.setAttribute('href', URL.createObjectURL(blob));\n        link.setAttribute('download', 'download.tei');\n        document.body.appendChild(link);\n        link.click();\n        document.body.removeChild(link);\n    }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=4ccce154&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import Vue from \"vue\";\nimport App from \"./App.vue\";\n\nVue.config.productionTip = false;\n\nnew Vue({\n  render: h => h(App)\n}).$mount(\"#app\");\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeiEditor.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TeiEditor.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}