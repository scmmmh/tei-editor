<div class="tei-editor">
  <div>
    <AriaMenu @class="tei-editor-menubar">
      <AriaMenuAction @tabindex="0" @label="Undo"><MdiIcon @name="Undo"/></AriaMenuAction>
      <AriaMenuAction @label="Redo"><MdiIcon @name="Redo"/></AriaMenuAction>
      <AriaDropdownMenu @title="File">
        <AriaMenuAction @action={{action loadFile}}>Load</AriaMenuAction>
        <AriaMenuAction>Save</AriaMenuAction>
      </AriaDropdownMenu>
      <AriaMenuAction @current={{eq currentView '#tei-editor-main-text' true}} @hidden={{eq loaded false true}} @action={{action setView '#tei-editor-main-text'}}>Text</AriaMenuAction>
      <AriaMenuAction @hidden={{eq loaded false true}}>Annotations</AriaMenuAction>
      <AriaMenuAction @current={{eq currentView '#tei-editor-metadata' true}} @hidden={{eq loaded false true}} @action={{action setView '#tei-editor-metadata'}}>Metadata</AriaMenuAction>
    </AriaMenu>
  </div>
  <div aria-hidden={{eq loaded false true}}>
    <div id="tei-editor-main-text" aria-hidden="false">
      <div>
        <div class="tei-editor-main-text-editor">
          <div id={{prosemirrorId}}></div>
        </div>
      </div>
      <div>
        <div class="tei-editor-main-text-sidebar">
          <dl>
            {{#each sidebarConfig key="@index" as |section|}}
              {{#if (status-display-entry status section.test)}}
                <dt>{{section.title}}</dt>
                <dd>
                  <AriaMenu>
                    {{#each section.entries key="@index" as |entry index|}}
                      {{#if entry.type.select}}
                        <li class="input">
                          <select role="menuitem" tabindex={{aria-menu-item-tabindex index}} onchange={{action menuAction entry.action entry.attribute 'ev.target.value'}}>
                            {{#each entry.values key="@index" as |value|}}
                              <option value={{value.key}} selected={{eq (get status entry.value_key) value.key}}>{{value.value}}</option>
                            {{/each}}
                          </select>
                        </li>
                      {{/if}}
                      {{#if entry.type.button}}
                        <AriaMenuAction @tabindex={{aria-menu-item-tabindex index}} @label={{entry.label}} @action={{action menuAction entry.action entry.attribute entry.value}} @current={{eq (get status entry.value_key) entry.value true}}><MdiIcon @name={{entry.icon}} /></AriaMenuAction>
                      {{/if}}
                    {{/each}}
                  </AriaMenu>
                </dd>
              {{/if}}
            {{/each}}
          </dl>
        </div>
      </div>
    </div>
    <div id="tei-editor-metadata" aria-hidden="true">
    </div>
  </div>
</div>
